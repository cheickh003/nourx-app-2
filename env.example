# =============================================================================
# NOURX APPLICATION - Environment Variables
# =============================================================================

# =============================================================================
# COMMON
# =============================================================================
ENV=development
DEBUG=1

# =============================================================================
# DJANGO/BACKEND CONFIGURATION
# =============================================================================

# Secret Key
SECRET_KEY=django-insecure-change-me-in-production-123456789

# Database
DATABASE_URL=postgresql://nourx_user:nourx_password@postgres:5432/nourx_db

# Redis
REDIS_URL=redis://redis:6379/0

# Security
ALLOWED_HOSTS=localhost,127.0.0.1,web
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# AWS/S3 Configuration (MinIO for dev)
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_STORAGE_BUCKET_NAME=nourx-bucket
AWS_S3_ENDPOINT_URL=http://minio:9000
AWS_S3_REGION_NAME=us-east-1
AWS_S3_USE_SSL=false
AWS_S3_CUSTOM_DOMAIN=localhost:9000
AWS_S3_URL_PROTOCOL=http:
AWS_S3_ADDRESSING_STYLE=path
AWS_S3_SIGNATURE_VERSION=s3v4
AWS_QUERYSTRING_AUTH=true
AWS_DEFAULT_ACL=private

# Email Configuration (MailHog for dev)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=mailhog
EMAIL_PORT=1025
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
EMAIL_USE_TLS=false
EMAIL_USE_SSL=false
DEFAULT_FROM_EMAIL=nourx@localhost

# Support attachments (limits)
SUPPORT_ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,application/zip
SUPPORT_ATTACHMENT_MAX_SIZE=20971520

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# CinetPay Configuration (sandbox)
CINETPAY_API_KEY=your-sandbox-api-key
CINETPAY_SITE_ID=your-sandbox-site-id
CINETPAY_SECRET_KEY=your-sandbox-secret-key
CINETPAY_BASE_URL=https://sandbox-api-checkout.cinetpay.com
# Callback/Return URLs
CINETPAY_RETURN_URL=http://localhost:3000/paiement/success
CINETPAY_CANCEL_URL=http://localhost:3000/paiement/failed
CINETPAY_NOTIFY_URL=http://localhost:8000/api/payments/webhook/

# Observability
SENTRY_DSN=
LOGGING_LEVEL=INFO

# =============================================================================
# NEXT.JS/FRONTEND CONFIGURATION
# =============================================================================

# Next.js
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
API_BASE_URL=http://web:8000
# Public API base (optional). If unset, frontend uses relative /api with rewrite.
NEXT_PUBLIC_API_URL=

# Analytics
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=

# =============================================================================
# PRODUCTION OVERRIDES (uncomment and set for production)
# =============================================================================

# Security (Production)
# DEBUG=0
# SECRET_KEY=your-secure-secret-key
# ALLOWED_HOSTS=app.nourx.com,api.nourx.com
# CORS_ALLOWED_ORIGINS=https://app.nourx.com
# CSRF_TRUSTED_ORIGINS=https://app.nourx.com
# ADMIN_URL=secret-admin-path/

# HTTPS & Cookies
# SECURE_SSL_REDIRECT=true
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=true
# SECURE_HSTS_PRELOAD=true
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_HTTPONLY=true
# SESSION_COOKIE_SAMESITE=Lax
# CSRF_COOKIE_SECURE=true
# CSRF_COOKIE_HTTPONLY=true
# CSRF_COOKIE_SAMESITE=Lax

# Email (Production - SMTP)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# DEFAULT_FROM_EMAIL=no-reply@nourx.dev
# EMAIL_HOST=mail.spacemail.com
# EMAIL_PORT=465
# EMAIL_HOST_USER=no-reply@nourx.dev
# EMAIL_HOST_PASSWORD=your-strong-password
# EMAIL_USE_TLS=false
# EMAIL_USE_SSL=true
