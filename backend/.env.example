# ====================================
# NOURX BACKEND - ENVIRONMENT TEMPLATE
# ====================================
# Copy this file to .env and fill in your values
# For production, use .env.production as reference

# Configuration Base de Données
POSTGRES_HOST=localhost
POSTGRES_PORT=5434
POSTGRES_USER=nourx
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=nourx_app

# Configuration Serveur
NODE_ENV=development
PORT=3001
HOST=localhost

# Configuration Better Auth (generate secure 32+ char secret)
BETTER_AUTH_SECRET=your-secure-32-character-secret-key-here
BETTER_AUTH_URL=http://localhost:3001

# Configuration JWT (generate secure secrets)
JWT_SECRET=your-secure-jwt-secret-key
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Configuration Email
# For Gmail: use app password, enable 2FA
# For dev: use Mailhog (docker) or real SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME="Your Company Name"
SMTP_FROM_EMAIL=noreply@yourcompany.com

# Configuration CORS
CORS_ORIGIN=http://localhost:3000

# Configuration Logs (debug | info | warn | error)
LOG_LEVEL=info

# Configuration Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_AUTH_MAX=50

# Configuration Upload (50MB = 52428800 bytes)
MAX_FILE_SIZE=52428800
FILE_STORAGE_PATH=./storage

# Configuration Admin par défaut (first run only)
DEFAULT_ADMIN_EMAIL=admin@yourcompany.com
DEFAULT_ADMIN_PASSWORD=SecureAdminPassword123!
DEFAULT_ADMIN_NAME="System Administrator"

# Configuration Sécurité
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MS=900000

# ====================================
# REDIS CACHE (Optional but recommended)
# ====================================

# Redis Connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL_DEFAULT=3600

# ====================================
# AWS S3 STORAGE (Production recommended)
# ====================================

# AWS Credentials (IAM user with S3 permissions)
AWS_REGION=eu-west-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key

# S3 Buckets (create these in AWS Console)
S3_BUCKET_DOCUMENTS=your-project-documents
S3_BUCKET_DELIVERABLES=your-project-deliverables
S3_BUCKET_BACKUPS=your-project-backups
S3_PRESIGNED_URL_EXPIRY=3600

# ====================================
# BACKUP SYSTEM
# ====================================

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups
BACKUP_S3_ENABLED=true
BACKUP_CRON_SCHEDULE=0 2 * * *

# ====================================
# STORAGE CONFIGURATION
# ====================================

# Storage Provider: 'local' for dev, 's3' for production
STORAGE_PROVIDER=local
STORAGE_FALLBACK=true
STORAGE_BASE_URL=http://localhost:3001/api/files

# ====================================
# MONITORING & OBSERVABILITY
# ====================================

# Application Monitoring
METRICS_ENABLED=true
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# Health Check Timeouts (milliseconds)
HEALTH_CHECK_DB_TIMEOUT=5000
HEALTH_CHECK_REDIS_TIMEOUT=3000

# ====================================
# DEVELOPMENT ONLY
# ====================================

# Database Seeding
SEED_DATABASE=false
SEED_DEMO_DATA=false

# Debug Features
ENABLE_REQUEST_LOGGING=true
ENABLE_SQL_LOGGING=false
ENABLE_DEBUG_ROUTES=true